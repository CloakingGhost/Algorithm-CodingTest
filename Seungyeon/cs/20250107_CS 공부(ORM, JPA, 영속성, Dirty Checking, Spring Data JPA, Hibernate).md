
### CS 학습 및 문답 연습

- ORM
- ORM은 객체-관계 매핑, 객체지향 프로그래밍 언어에서 사용하는 객체(Object)와 관계형 데이터베이스(RDBMS)에서 사용하는 테이블(Relations) 사이의 변환(매핑)을 자동으로 처리해주는 기술이다. 
- 객체 지향 시스템에서 데이터를 객체로 다루면서 관계형 데이터베이스의 데이터를 효율적으로 다룰 수 있도록 도와준다.

- JPA(Java Persistence API) 
- JPA는 Java에서 관계형 데이터베이스와 상호작용을 위한 표준 API, 객체 지향 프로그래밍 언어인 자바에서 객체-관계 매핑(ORM, object-Relational Mapping)을 제공하여, 객체와 데이터베이스 간의 매핑을 자동으로 처리하는 방식이다.

- 장점
- JPA를 사용하면 개발자가 SQL 쿼리를 직접 작성하는 대신, 자바 객체와 데이터 베이스 테이블 간의 매핑을 통해 더 직관적이고 객체 지향적인 방식으로 데이터베이스와 상호작용할 수 있다.

- 단점 
- SQL 최적화 어려움, JPA는 SQL을 직접 작성하지 않고 객체를 다루기 때문에, 복잡한 쿼리나 성능 최적화가 필요한 경우 직접 SQL을 작성하기 어려운 경우가 많습니다. 이 경우 성능을 최적화하려면 native SQL을 사용하거나 @Query를 통해 직접 쿼리를 작성해야 합니다.

- 성능 이슈, JPA는 편리한 기능을 제공하지만, 잘못된 사용 시 성능 문제가 발생할 수 있습니다. 예를 들어, N+1 문제(연관된 데이터를 조회할 때 불필요한 쿼리가 여러 번 발생하는 문제)나 지연 로딩을 사용하면서 발생할 수 있는 성능 문제 등이 있습니다.

- 개선방향
- 성능 최적화, JPA의 성능을 향상시키기 위해 N+1 문제를 해결하는 방식(예: `JOIN FETCH`, `@EntityGraph` 사용), 배치 처리나 쿼리 최적화를 적극적으로 활용해야 합니다.
- SQL 쿼리를 native query로 직접 작성하거나, 쿼리 메서드를 사용하여 복잡한 쿼리를 효율적으로 작성하는 방법도 중요합니다.

    - 영속성
    - JPA(Java Persistence API)에서 영속성(Persistence)은 엔티티 객체가 데이터베이스와 연관되어, 데이터베이스에 저장되거나 수정되는 상태를 의미함.
    
    - Dirty Checking
    - 영속성 컨텍스트에 관리되는 엔티티가 변경되었는지 자동으로 감지하여, 트랜잭션이 커밋될 때 변경된 내용을 데이터베이스에 반영하는 메커니즘
	- JPA가 영속 상태로 관리하는 엔티티에서만 동작
	- 주로 데이터를 수정할 때 사용
	
    - 연관관계(다대다 처리)
    - JPA(Java Persistence API)에서 연관관계는 서로 다른 엔티티 객체들 간의 관계를 표현하는 방식이다. 한 엔티티가 다른 엔티티와 어떤 관계를 가질 때, 이를 매핑하여 두 엔티티 간의 연관성을 설정함. JPA에서는 주로 일대일(1:1), 일대다(1:N), 다대일(N:1), 다대다(N:N)와 같은 연관관계를 처리함.
	- 다대다(N:N) 관계는 두 엔티티가 서로 다수의 객체와 관계를 맺는 경우임. 학생(Student)과 강의(Course) 엔티티 간의 관계는 다대다 관계일 수 있다. 한 학생은 여러 강의를 수강할 수 있고, 하나의 강의에는 여러 학생이 수강할 수 있음.
	
    - N + 1 문제 해결
    - N+1 문제는 JPA를 사용한 데이터베이스 조회 시 발생할 수 있는 성능 문제 중 하나임. N+1 문제는 기본적으로 쿼리의 수가 비효율적으로 많아지는 문제를 말함.
	- 간단히 말해, 하나의 객체를 조회한 후, 그 객체에 연관된 객체들을 추가로 조회하는 과정에서 불필요한 SQL 쿼리가 반복적으로 실행되는 현상임.
	
    - Spring Data JPA
    - Spring Data JPA는 Spring Framework에서 제공하는 JPA 기반의 데이터 액세스 기술이다. JPA의 복잡한 설정을 간소화하고, 자동으로 쿼리 메서드를 생성하여 편리한 CRUD 작업을 제공한다.
    
    - Hibernate
    - Hibernate는 Java에서 가장 많이 사용되는 ORM 프레임워크로, 객체와 테이블 간의 매핑을 자동으로 처리하며, 다양한 데이터베이스를 지원합니다. Spring과 결합하여 사용하는 경우가 많음.
